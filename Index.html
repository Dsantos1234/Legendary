'use client'

import { useState, useEffect } from 'react'
import { Copy, ExternalLink, Music, Music2, Users, TrendingUp, Rocket } from 'lucide-react'
import Image from 'next/image'

export default function VibeCatLanding() {
  const [isMuted, setIsMuted] = useState(true)
  const [copied, setCopied] = useState(false)

  useEffect(() => {
    const audio = document.getElementById('backgroundMusic') as HTMLAudioElement
    audio.volume = 0.5
    audio.muted = isMuted
  }, [isMuted])

  const toggleMute = () => {
    setIsMuted(!isMuted)
    const audio = document.getElementById('backgroundMusic') as HTMLAudioElement
    if (isMuted) {
      audio.play().catch(error => console.error("Audio playback failed:", error))
    }
  }

  const copyAddress = () => {
    navigator.clipboard.writeText('0x1234567890123456789012345678901234567890')
    setCopied(true)
    setTimeout(() => setCopied(false), 2000)
  }

  return (
    <div className="min-h-screen bg-[#0052FF] text-white overflow-hidden relative">
      <audio id="backgroundMusic" src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Jonas_Blue_-_I_Wanna_Dance_RELVAIRE_Remix-exo2wEwq8h7ZabSHcPYg4Bvftd3tnA.mp3" loop />

      <button
        onClick={toggleMute}
        className="fixed top-4 left-4 z-50 text-2xl bg-transparent border-none cursor-pointer"
        aria-label={isMuted ? 'Unmute background music' : 'Mute background music'}
      >
        {isMuted ? <Music className="w-6 h-6" /> : <Music2 className="w-6 h-6" />}
      </button>

      <div className="absolute inset-0 grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-0 opacity-40 z-0">
        {[...Array(32)].map((_, i) => (
          <Image
            key={i}
            src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/3516-vibe-cat-FbtiI1IolzRkKQ60zRs5a45GOEQeQI.gif"
            alt=""
            width={150}
            height={150}
            className="w-full h-full object-cover"
          />
        ))}
      </div>

      <div className="container mx-auto px-4 py-8 flex flex-col items-center justify-between min-h-screen relative z-10">
        <header className="text-center mb-8">
          <div className="flex items-center justify-center gap-4 mb-4">
            <h1 className="text-4xl sm:text-5xl font-bold animate-bounce">Vibe Cat</h1>
            <Image src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/base-NtwdNUzzIpsmgtJwal41eHx8ggIDzN.webp" alt="Base Chain Logo" width={48} height={48} />
          </div>
          <p className="text-xl sm:text-2xl mb-4 animate-pulse">The most exciting vibe on Base Chain! ğŸ±ğŸš€</p>
          <a href="https://ape.store" className="inline-flex items-center bg-[#00FFFF] text-[#0052FF] font-bold py-2 px-4 rounded-full text-lg animate-pulse">
            Get $VIBE Now
            <ExternalLink className="ml-2 w-5 h-5" />
          </a>
        </header>

        <div className="bg-[#0066FF80] p-4 rounded-lg mb-8 w-full max-w-md">
          <h2 className="text-xl font-bold mb-2 text-center">Contract Address</h2>
          <div className="flex flex-col items-center">
            <code className="bg-[#004080] p-2 rounded text-[#00FFFF] font-mono text-sm sm:text-base break-all mb-2">
              CA: 0x1234567890123456789012345678901234567890
            </code>
            <button onClick={copyAddress} className="text-[#00FFFF] cursor-pointer">
              {copied ? <Copy className="w-5 h-5" /> : <Copy className="w-5 h-5" />}
            </button>
          </div>
        </div>

        <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 w-full max-w-4xl">
          <Feature
            icon={<Rocket className="w-12 h-12 text-[#00FFFF]" />}
            title="Moon Mission"
            description="Strap in for a journey to the moon and beyond with Vibe Cat!"
          />
          <Feature
            icon={<Users className="w-12 h-12 text-[#00FFFF]" />}
            title="Vibrant Community"
            description="Join a community of cat lovers and crypto enthusiasts!"
          />
          <Feature
            icon={<TrendingUp className="w-12 h-12 text-[#00FFFF]" />}
            title="Explosive Growth"
            description="Watch your investment grow as we take over the meme coin world!"
            className="sm:col-span-2"
          />
        </div>

        <div className="flex flex-col sm:flex-row gap-4 mb-8">
          <SocialButton href="https://x.com/vibeonbase?s=21" icon="X" bgColor="bg-black" />
          <SocialButton href="https://t.me/vibeonbase" icon="Telegram" bgColor="bg-[#0088cc]" />
        </div>

        <footer className="text-[#00FFFF] text-center mt-8">
          <p>Â© 2023 Vibe Cat on Base Chain. To the moon! ğŸš€ğŸŒ™</p>
        </footer>
      </div>
    </div>
  )
}

function Feature({ icon, title, description, className = '' }) {
  return (
    <div className={`bg-[#0066FF80] p-4 rounded-lg text-center ${className}`}>
      <div className="flex justify-center mb-4">{icon}</div>
      <h3 className="text-xl font-bold mb-2">{title}</h3>
      <p>{description}</p>
    </div>
  )
}

function SocialButton({ href, icon, bgColor }) {
  return (
    <a
      href={href}
      target="_blank"
      rel="noopener noreferrer"
      className={`${bgColor} text-white py-2 px-4 rounded-full font-bold flex items-center justify-center`}
    >
      {icon === 'X' ? (
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mr-2">
          <path d="M18 6 6 18"></path><path d="m6 6 12 12"></path>
        </svg>
      ) : (
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mr-2">
          <line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      )}
      {icon}
    </a>
  )
}

