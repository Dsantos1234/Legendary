'use client'

import { useState, useRef, useEffect } from 'react'
import { Button } from "@/components/ui/button"
import { ArrowUpRight, X, Send, Copy, Check, Rocket, Users, TrendingUp } from 'lucide-react'
import Image from 'next/image'

export default function VibeCatLanding() {
  const [isMuted, setIsMuted] = useState(true)
  const [isCopied, setIsCopied] = useState(false)
  const audioRef = useRef<HTMLAudioElement>(null)
  const contractAddress = "0x1234567890123456789012345678901234567890" // Placeholder CA

  useEffect(() => {
    if (audioRef.current) {
      audioRef.current.volume = 0.5
      audioRef.current.loop = true
    }
  }, [])

  const toggleMute = () => {
    setIsMuted(!isMuted)
    if (audioRef.current) {
      audioRef.current.muted = !audioRef.current.muted
      if (!audioRef.current.muted) {
        audioRef.current.play().catch(error => console.error("Audio playback failed:", error))
      }
    }
  }

  const copyToClipboard = () => {
    navigator.clipboard.writeText(contractAddress).then(() => {
      setIsCopied(true)
      setTimeout(() => setIsCopied(false), 2000)
    })
  }

  return (
    <div className="min-h-screen bg-[#0052FF] text-white overflow-hidden relative">
      <audio 
        ref={audioRef} 
        src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Jonas_Blue_-_I_Wanna_Dance_RELVAIRE_Remix-exo2wEwq8h7ZabSHcPYg4Bvftd3tnA.mp3"
        loop
      />

      <button 
        onClick={toggleMute} 
        className="absolute top-4 left-4 z-50 text-4xl cursor-pointer hover:opacity-80 transition-opacity"
        aria-label={isMuted ? "Unmute background music" : "Mute background music"}
      >
        {isMuted ? '🔇' : '🎵'}
      </button>

      <div className="absolute inset-0 z-0 opacity-40">
        <div className="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-0">
          {[...Array(48)].map((_, i) => (
            <div key={i} className="w-full aspect-square">
              <img 
                src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/3516-vibe-cat-FbtiI1IolzRkKQ60zRs5a45GOEQeQI.gif" 
                alt="" 
                className="w-full h-full object-cover"
              />
            </div>
          ))}
        </div>
      </div>

      <div className="relative z-10 container mx-auto px-4 py-8 sm:py-16 flex flex-col items-center justify-between min-h-screen">
        <header className="text-center mb-8 sm:mb-16">
          <div className="flex items-center justify-center gap-4 mb-4">
            <h1 className="text-4xl sm:text-6xl font-bold animate-bounce">
              Vibe Cat
            </h1>
            <Image 
              src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/base-NtwdNUzzIpsmgtJwal41eHx8ggIDzN.webp"
              alt="Base Chain Logo"
              width={48}
              height={48}
              className="w-8 h-8 sm:w-12 sm:h-12"
            />
          </div>
          <p className="text-xl sm:text-2xl mb-6 sm:mb-8 animate-pulse">The most exciting vibe on Base Chain! 🐱🚀</p>
          <Button size="lg" className="bg-[#00FFFF] hover:bg-[#00CCCC] text-[#0052FF] font-bold py-3 px-6 sm:py-4 sm:px-8 rounded-full animate-pulse">
            Get $VIBE Now <ArrowUpRight className="ml-2" />
          </Button>
        </header>

        <div className="text-center mt-8 bg-[#0066FF]/50 p-4 rounded-lg">
          <h2 className="text-xl font-bold mb-2">Contract Address</h2>
          <div className="flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-2">
            <code className="bg-[#004080] px-3 py-1 rounded text-[#00FFFF] text-sm sm:text-base break-all">
              CA: {contractAddress}
            </code>
            <Button
              size="sm"
              variant="ghost"
              className="text-[#00FFFF] hover:text-white mt-2 sm:mt-0"
              onClick={copyToClipboard}
            >
              {isCopied ? <Check className="h-4 w-4" /> : <Copy className="h-4 w-4" />}
            </Button>
          </div>
        </div>

        <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 my-8 sm:my-16 max-w-4xl mx-auto">
          <div className="bg-[#0066FF]/50 p-6 rounded-lg text-center">
            <Rocket className="w-12 h-12 mx-auto mb-4 text-[#00FFFF]" />
            <h3 className="text-xl font-bold mb-2">Moon Mission</h3>
            <p>Strap in for a journey to the moon and beyond with Vibe Cat!</p>
          </div>
          <div className="bg-[#0066FF]/50 p-6 rounded-lg text-center">
            <Users className="w-12 h-12 mx-auto mb-4 text-[#00FFFF]" />
            <h3 className="text-xl font-bold mb-2">Vibrant Community</h3>
            <p>Join a community of cat lovers and crypto enthusiasts!</p>
          </div>
          <div className="bg-[#0066FF]/50 p-6 rounded-lg text-center col-span-full">
            <TrendingUp className="w-12 h-12 mx-auto mb-4 text-[#00FFFF]" />
            <h3 className="text-xl font-bold mb-2">Explosive Growth</h3>
            <p>Watch your investment grow as we take over the meme coin world!</p>
          </div>
        </div>

        <div className="text-center mt-8 sm:mt-auto">
          <div className="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center">
            <Button
              size="lg"
              className="bg-black hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-full w-full sm:w-auto"
              onClick={() => window.open('https://x.com', '_blank')}
            >
              <X className="mr-2 h-5 w-5" />
              X
            </Button>
            <Button
              size="lg"
              className="bg-[#0088cc] hover:bg-[#0077b5] text-white font-bold py-3 px-6 rounded-full w-full sm:w-auto"
              onClick={() => window.open('https://telegram.org', '_blank')}
            >
              <Send className="mr-2 h-5 w-5" />
              Telegram
            </Button>
          </div>
        </div>

        <footer className="text-center py-8 text-[#00FFFF] mt-16">
          <p>© 2023 Vibe Cat on Base Chain. To the moon! 🚀🌙</p>
        </footer>
      </div>

      <style jsx>{`
        @keyframes float {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
      `}</style>
    </div>
  )
}
